"use strict";(self.webpackChunklowcode_platform_docs=self.webpackChunklowcode_platform_docs||[]).push([["1988"],{3628:function(e,n,r){r.r(n),r.d(n,{default:()=>c});var t=r(2676),o=r(453),d=r(7496),a=r(8021),i=r(6656);function s(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",details:"details",summary:"summary",div:"div",pre:"pre",code:"code"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"渲染器接入前端",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#渲染器接入前端",children:"#"}),"渲染器接入—前端"]}),"\n",(0,t.jsxs)(n.h2,{id:"概述",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#概述",children:"#"}),"概述"]}),"\n",(0,t.jsx)(n.p,{children:"平台提供了 SDK 版的渲染器，用于 SCHEMA 到视图的渲染；"}),"\n",(0,t.jsxs)(n.h2,{id:"使用",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用",children:"#"}),"使用"]}),"\n",(0,t.jsxs)(n.h3,{id:"安裝",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安裝",children:"#"}),"安裝"]}),"\n","\n",(0,t.jsx)(i.default,{}),"\n",(0,t.jsxs)(n.h3,{id:"效果",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#效果",children:"#"}),"效果"]}),"\n",(0,t.jsx)(n.p,{children:"通过规范的 Schema 渲染组件或者页面:"}),"\n",(0,t.jsxs)(n.details,{className:"rspress-directive details",children:[(0,t.jsx)(n.summary,{className:"rspress-directive-title",children:"DETAILS"}),(0,t.jsx)(n.div,{className:"rspress-directive-content",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\r\n      "componentName": "Component",\r\n      "fileName": "example",\r\n      "props": {},\r\n      "children": [\r\n        {\r\n          "children": [],\r\n          "componentName": "Header",\r\n          "exportName": "Header",\r\n          "id": "XXfdEXujjZV5kou1t863V",\r\n          "name": "header",\r\n          "props": {\r\n            "name": "Header内容",\r\n            "style": {\r\n              "text-align": "center",\r\n              "color": "rgb(255, 255, 255)",\r\n              "height": "64px",\r\n              "padding-inline": "48px",\r\n              "line-height": "64px",\r\n              "background-color": "rgb(64, 150, 255)"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          "componentName": "Container",\r\n          "exportName": "Container",\r\n          "id": "XXfdEXujfdfdgu1t863V",\r\n          "name": "container",\r\n          "props": {\r\n            "style": {\r\n              "display": "flex", "flex-direction": "row"\r\n            }\r\n          },\r\n          "children": [\r\n            {\r\n              "children": [],\r\n              "componentName": "Sider",\r\n              "exportName": "Sider",\r\n              "id": "XXwecfjjZV5kou1t863V",\r\n              "name": "sider",\r\n              "props": {\r\n                "name": "Sider内容",\r\n                "style": {\r\n                  "text-align": "center",\r\n                  "line-height": "120px",\r\n                  "color": "rgb(255, 255, 255)",\r\n                  "background-color": "rgb(22, 119, 255)",\r\n                  "flex": "0 0 25%",\r\n                  "max-width": "25%",\r\n                  "min-width": "25%",\r\n                  "width": "25%"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              "children": [],\r\n              "componentName": "Content",\r\n              "exportName": "Content",\r\n              "id": "XXwecfjjZVitdrt63V",\r\n              "name": "content",\r\n              "props": {\r\n                "name": "Content内容",\r\n                "style": {\r\n                  "text-align": "center",\r\n                  "min-height": "120px",\r\n                  "line-height": "120px",\r\n                  "color": "rgb(255, 255, 255)",\r\n                  "background-color": "rgb(9, 88, 217)",\r\n                  "flex": "auto"\r\n                }\r\n              }\r\n            }\r\n          ]\r\n\r\n        },\r\n        {\r\n          "children": [],\r\n          "componentName": "Footer",\r\n          "exportName": "Footer",\r\n          "id": "XXfdEXujjZV5kou1t863V",\r\n          "name": "footer",\r\n          "props": {\r\n            "name": "Footer内容",\r\n            "style": {\r\n              "text-align": "center",\r\n              "color": "rgb(255, 255, 255)",\r\n              "height": "64px",\r\n              "padding-inline": "48px",\r\n              "line-height": "64px",\r\n              "background-color": "rgb(64, 150, 255)"\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\n'})})})]}),"\n",(0,t.jsxs)(a.Z,{isMobile:"false",demoId:"_guide_openapi_sdk_front_1",children:[(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import {useEffect, useMemo, useState} from \"react\";\r\nimport {Skeleton} from \"antd\";\r\nimport loader from \"../../../utils/loader\";\r\nimport ExampleCode from \"./ExampleCode\";\r\n\r\nconst components = {\r\n  ComponentOne: ExampleCode.ComponentOne,\r\n  Header: ExampleCode.Header,\r\n  Sider: ExampleCode.Sider,\r\n  Content: ExampleCode.Content,\r\n  Footer: ExampleCode.Footer,\r\n  Container: ExampleCode.Container\r\n}\r\n\r\nconst sdkExampleContainerId = 'OpenReactRenderSdkExample'\r\nexport default function App() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const initRender = () => {\r\n    const {ReactDOM, React} = window as any\r\n    const nexusRenderCore = window['NexusRenderCore'];\r\n    const { NexusRenderer: RenderView, registerComponent, createAppHelper } = nexusRenderCore;\r\n\r\n    for (const key in components) {\r\n      registerComponent(key, components[key], '1.0.0');\r\n    }\r\n\r\n\r\n    ReactDOM.createRoot(document.getElementById(sdkExampleContainerId)!).render(React.createElement(RenderView, {\r\n      schema: ExampleCode.schema.componentsTree[0],\r\n      renderKey: '1.0',\r\n      appHelper: createAppHelper()\r\n    }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        await loader.LibNexusRenderCoreSdk()\r\n      }catch (e) {\r\n        console.log(e)\r\n        setError(e)\r\n      }\r\n      setLoading(false)\r\n    })()\r\n  }, []);\r\n\r\n  const mounted = useMemo(() => {\r\n    return !loading && !error\r\n  }, [loading, error])\r\n\r\n  useEffect(() => {\r\n    if (mounted) {\r\n      setTimeout(() => {\r\n        initRender()\r\n      })\r\n    }\r\n  }, [mounted]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={'loadingFormContainer'}>\r\n        <Skeleton active={true} rootClassName={\"skeletonRoot\"}/>\r\n      </div>\r\n    )\r\n  }\r\n  if (error) {\r\n    return <ExampleCode.ErrorView />\r\n  }\r\n  const { NexusRenderer } = window['NexusRenderCore'];\r\n\r\n  if (!NexusRenderer) {\r\n    return <ExampleCode.ErrorView />\r\n  }\r\n\r\n\r\n  return (\r\n    <div id={sdkExampleContainerId} className={'exampleItem'} style={{width: '100%'}} />\r\n  )\r\n}"})})}),(0,t.jsx)(d.default,{})]}),"\n",(0,t.jsxs)(n.h2,{id:"注意",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意",children:"#"}),"注意"]}),"\n",(0,t.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,t.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,t.jsx)(n.div,{className:"rspress-directive-content",children:(0,t.jsx)(n.p,{children:"目前仅仅支持 React 技术栈，后续提供 Vue等其他技术栈的 SDK。"})})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(s,e)})):s(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["guide%2Fopenapi%2Fsdk-front.mdx"]={toc:[{id:"概述",text:"概述",depth:2},{id:"使用",text:"使用",depth:2},{id:"安裝",text:"安裝",depth:3},{id:"效果",text:"效果",depth:3},{id:"注意",text:"注意",depth:2}],title:"渲染器接入—前端",headingTitle:"渲染器接入—前端",frontmatter:{}}},3191:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var t=r(2676),o=r(5767);let d={schema:{version:"1.0.2",packagesMap:[],componentsMap:[],componentsTree:[{componentName:"Component",fileName:"example",props:{},children:[{children:[],componentName:"Header",exportName:"Header",id:"XXfdEXujjZV5kou1t863V",name:"header",props:{name:"Header内容",style:{"text-align":"center",color:"rgb(255, 255, 255)",height:"64px","padding-inline":"48px","line-height":"64px","background-color":"rgb(64, 150, 255)"}}},{componentName:"Container",exportName:"Container",id:"XXfdEXujfdfdgu1t863V",name:"container",props:{style:{display:"flex","flex-direction":"row"}},children:[{children:[],componentName:"Sider",exportName:"Sider",id:"XXwecfjjZV5kou1t863V",name:"sider",props:{name:"Sider内容",style:{"text-align":"center","line-height":"120px",color:"rgb(255, 255, 255)","background-color":"rgb(22, 119, 255)",flex:"0 0 25%","max-width":"25%","min-width":"25%",width:"25%"}}},{children:[],componentName:"Content",exportName:"Content",id:"XXwecfjjZVitdrt63V",name:"content",props:{name:"Content内容",style:{"text-align":"center","min-height":"120px","line-height":"120px",color:"rgb(255, 255, 255)","background-color":"rgb(9, 88, 217)",flex:"auto"}}}]},{children:[],componentName:"Footer",exportName:"Footer",id:"XXfdEXujjZV5kou1t863V",name:"footer",props:{name:"Footer内容",style:{"text-align":"center",color:"rgb(255, 255, 255)",height:"64px","padding-inline":"48px","line-height":"64px","background-color":"rgb(64, 150, 255)"}}}]}]},ErrorView:()=>(0,t.jsx)("div",{className:"loadingFormContainer",children:(0,t.jsx)(o.ZP,{status:"error",title:"渲染异常",subTitle:""})}),ComponentOne:e=>(0,t.jsx)("div",{children:"这是组件1cccccccccccccccccccccccc"}),Container:e=>(0,t.jsx)("div",{style:e.style||{},children:e.children}),Header:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Header"]}),Sider:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Sider"]}),Content:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Content"]}),Footer:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Footer"]})}},7496:function(e,n,r){r.r(n),r.d(n,{default:()=>c});var t=r(2676),o=r(5271),d=r(3753),a=r(8709),i=r(3191);let s={ComponentOne:i.default.ComponentOne,Header:i.default.Header,Sider:i.default.Sider,Content:i.default.Content,Footer:i.default.Footer,Container:i.default.Container},l="OpenReactRenderSdkExample";function c(){let[e,n]=(0,o.useState)(!0),[r,c]=(0,o.useState)(null),m=()=>{let{ReactDOM:e,React:n}=window,{NexusRenderer:r,registerComponent:t,createAppHelper:o}=window.NexusRenderCore;for(let e in s)t(e,s[e],"1.0.0");e.createRoot(document.getElementById(l)).render(n.createElement(r,{schema:i.default.schema.componentsTree["0"],renderKey:"1.0",appHelper:o()}))};(0,o.useEffect)(()=>{(async()=>{try{await a.default.LibNexusRenderCoreSdk()}catch(e){console.log(e),c(e)}n(!1)})()},[]);let p=(0,o.useMemo)(()=>!e&&!r,[e,r]);if((0,o.useEffect)(()=>{p&&setTimeout(()=>{m()})},[p]),e)return(0,t.jsx)("div",{className:"loadingFormContainer",children:(0,t.jsx)(d.Z,{active:!0,rootClassName:"skeletonRoot"})});if(r)return(0,t.jsx)(i.default.ErrorView,{});let{NexusRenderer:h}=window.NexusRenderCore;return h?(0,t.jsx)("div",{id:l,className:"exampleItem",style:{width:"100%"}}):(0,t.jsx)(i.default.ErrorView,{})}},6656:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var t=r(2676),o=r(7489);let d=()=>(0,t.jsx)(o.SU,{command:"install @lowcode-set-up-platform/nexus-render-core -S"})},8709:function(e,n,r){r.r(n),r.d(n,{default:()=>a});var t=JSON.parse('{"ic":"/open-react-render-sdk/index.umd.js","H0":"/setter-render/index.umd.js","UK":"/new-playground/index.umd.js","pf":"/nexus-render-core/index.umd.js"}');let o={};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{src:n="https://cdn.jsdelivr.net/npm/typescript/lib/typescript.js",globalKey:r="ts"}=e;return window[r]?Promise.resolve():(o[n]||(o[n]=new Promise((e,t)=>{let d=document.createElement("script");d.setAttribute("data-src",n),d.src=n,d.async=!0,d.onload=()=>{window[r]?(console.log(`${r} loaded and available as window.${r}`),e()):(t(Error(`Failed to load ${r}. Ensure the global variable ${r} is set by the script.`)),delete o[n])},d.onerror=e=>{t(Error(`Failed to load ${r} from ${n}: ${e}`)),delete o[n]},document.body.appendChild(d)})),o[n])}console.log(t.ic,t.H0,t.UK);let a={LibSetterRender:async function(){return console.log(t.ic,t.H0,t.UK),await d({src:t.H0||"/setter-render/index.umd.js",globalKey:"SetterRender"}),window.SetterRender},LibOpenReactRenderSdk:async function(){return console.log(t.ic,t.H0,t.UK),await d({src:t.ic||"/open-react-render-sdk/index.umd.js",globalKey:"OpenReactRenderSdk"}),window.OpenReactRenderSdk},LibSchemaOnLinePlayground:async function(){return console.log(t.ic,t.H0,t.UK),await d({src:t.UK||"/new-playground/index.umd.js",globalKey:"SchemaOnLinePlayground"}),window.SchemaOnLinePlayground},LibNexusRenderCoreSdk:async function(){return await d({src:t.pf||"/nexus-render-core/index.umd.js",globalKey:"NexusRenderCore"}),window.NexusRenderCore}}}}]);