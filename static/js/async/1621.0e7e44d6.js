"use strict";(self.webpackChunklowcode_platform_docs=self.webpackChunklowcode_platform_docs||[]).push([["1621"],{5446:function(e,n,r){r.r(n),r.d(n,{default:()=>c});var a=r(2676),l=r(453),d=r(3780),s=r(6402);function i(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",h3:"h3",ol:"ol",li:"li",code:"code",pre:"pre"},(0,l.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"编辑器部署",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编辑器部署",children:"#"}),"编辑器部署"]}),"\n",(0,a.jsxs)(n.h2,{id:"容器化部署",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#容器化部署",children:"#"}),"容器化部署"]}),"\n",(0,a.jsxs)(n.h3,{id:"镜像构建",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#镜像构建",children:"#"}),"镜像构建"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["下载克隆代码，执行 ",(0,a.jsx)(n.code,{children:"install"})]}),"\n"]}),"\n",(0,a.jsx)(d.default,{}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsxs)(n.li,{children:["服务构建，执行 ",(0,a.jsx)(n.code,{children:"run build:building-render"})]}),"\n"]}),"\n",(0,a.jsx)(s.default,{command:"run build:building-render"}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsxs)(n.li,{children:["服务构建，执行 ",(0,a.jsx)(n.code,{children:"run build"})]}),"\n"]}),"\n",(0,a.jsx)(s.default,{command:"run build"}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"构建镜像"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"docker build -t lowcode-platform  .\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"服务启动",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#服务启动",children:"#"}),"服务启动"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"docker 启动服务（将对应的环境变量修改为真实的值）,容器启动后运行在 10009 端口"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"docker run -d \\\r\n  --name lowcode-platform \\\r\n  -p 10011:10011 \\\r\n  lowcode-platform:latest\r\n\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"k8s-集群",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#k8s-集群",children:"#"}),"K8S 集群"]}),"\n",(0,a.jsxs)(n.h3,{id:"镜像构建-1",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#镜像构建-1",children:"#"}),"镜像构建"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"如上步骤构建镜像后推送到自己的镜像仓库"}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"集群部署",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#集群部署",children:"#"}),"集群部署"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"系定义修改 ymal 配置，尤其是 containers.env 必须配置正确"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ymal",children:"apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  labels:\r\n    app: lowcode-platform\r\n  name: lowcode-platform\r\n  namespace: gpt\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: lowcode-platform\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: lowcode-platform\r\n    spec:\r\n      containers:\r\n        - image: 自己的镜像地址\r\n          imagePullPolicy: IfNotPresent\r\n          name: lowcode-platform\r\n      imagePullSecrets:\r\n        - name: aliyun-register-pwd\r\n\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  labels:\r\n    app: lowcode-platform\r\n  name: lowcode-platform-service\r\n  namespace: gpt\r\nspec:\r\n  type: LoadBalancer\r\n  ports:\r\n    -   name: lowcode-platform-port\r\n        port: 10011\r\n        protocol: TCP\r\n        targetPort: 80\r\n  selector:\r\n    app: lowcode-platform\r\n\r\n---\r\napiVersion: networking.k8s.io/v1\r\nkind: Ingress\r\nmetadata:\r\n  name: gpt-web-nginx-ingress\r\n  namespace: gpt\r\n  annotations:\r\n    kubernetes.io/ingress.class: traefik\r\nspec:\r\n  rules:\r\n    - http:\r\n        paths:\r\n          - path: /lowcode-platform\r\n            pathType: Prefix\r\n            backend:\r\n              service:\r\n                name: lowcode-platform-service\r\n                port:\r\n                  number: 10011\r\n\n"})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(i,e)})):i(e)}let c=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["deploy%2Fweb%2Feditor.mdx"]={toc:[{id:"容器化部署",text:"容器化部署",depth:2},{id:"镜像构建",text:"镜像构建",depth:3},{id:"服务启动",text:"服务启动",depth:3},{id:"k8s-集群",text:"K8S 集群",depth:2},{id:"镜像构建-1",text:"镜像构建",depth:3},{id:"集群部署",text:"集群部署",depth:3}],title:"编辑器部署",headingTitle:"编辑器部署",frontmatter:{}}},3780:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var a=r(2676),l=r(7489);let d=()=>(0,a.jsx)(l.SU,{command:"install"})},6402:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var a=r(2676),l=r(7489);let d=e=>(0,a.jsx)(l.SU,{command:e.command})}}]);