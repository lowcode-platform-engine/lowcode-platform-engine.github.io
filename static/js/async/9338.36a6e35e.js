"use strict";(self.webpackChunklowcode_platform_docs=self.webpackChunklowcode_platform_docs||[]).push([["9338"],{6405:function(e,n,r){r.r(n),r.d(n,{default:()=>s});var t=r("2676"),o=r("453"),a=r("1442"),d=r("5522"),i=r("1077");function c(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",details:"details",summary:"summary",div:"div",pre:"pre",code:"code"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"渲染器接入前端",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#渲染器接入前端",children:"#"}),"渲染器接入—前端"]}),"\n",(0,t.jsxs)(n.h2,{id:"概述",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#概述",children:"#"}),"概述"]}),"\n",(0,t.jsx)(n.p,{children:"平台提供了 SDK 版的渲染器，用于 SCHEMA 到视图的渲染；"}),"\n",(0,t.jsxs)(n.h2,{id:"使用",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用",children:"#"}),"使用"]}),"\n",(0,t.jsxs)(n.h3,{id:"安裝",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安裝",children:"#"}),"安裝"]}),"\n","\n",(0,t.jsx)(i.default,{}),"\n",(0,t.jsxs)(n.h3,{id:"效果",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#效果",children:"#"}),"效果"]}),"\n",(0,t.jsx)(n.p,{children:"通过规范的 Schema 渲染组件或者页面:"}),"\n",(0,t.jsxs)(n.details,{className:"rspress-directive details",children:[(0,t.jsx)(n.summary,{className:"rspress-directive-title",children:"DETAILS"}),(0,t.jsx)(n.div,{className:"rspress-directive-content",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",meta:"",children:'{\r\n  "version": "1.0.2",\r\n  "packagesMap": [],\r\n  "componentsMap": [],\r\n  "componentsTree": [\r\n    {\r\n      "componentName": "Component",\r\n      "fileName": "example",\r\n      "props": {},\r\n      "children": [\r\n        {\r\n          "children": [],\r\n          "componentName": "Header",\r\n          "exportName": "Header",\r\n          "id": "XXfdEXujjZV5kou1t863V",\r\n          "name": "header",\r\n          "props": {\r\n            "name": "Header内容",\r\n            "style": {\r\n              "text-align": "center",\r\n              "color": "rgb(255, 255, 255)",\r\n              "height": "64px",\r\n              "padding-inline": "48px",\r\n              "line-height": "64px",\r\n              "background-color": "rgb(64, 150, 255)"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          "componentName": "Container",\r\n          "exportName": "Container",\r\n          "id": "XXfdEXujfdfdgu1t863V",\r\n          "name": "container",\r\n          "props": {\r\n            "style": {\r\n              "display": "flex", "flex-direction": "row"\r\n            }\r\n          },\r\n          "children": [\r\n            {\r\n              "children": [],\r\n              "componentName": "Sider",\r\n              "exportName": "Sider",\r\n              "id": "XXwecfjjZV5kou1t863V",\r\n              "name": "sider",\r\n              "props": {\r\n                "name": "Sider内容",\r\n                "style": {\r\n                  "text-align": "center",\r\n                  "line-height": "120px",\r\n                  "color": "rgb(255, 255, 255)",\r\n                  "background-color": "rgb(22, 119, 255)",\r\n                  "flex": "0 0 25%",\r\n                  "max-width": "25%",\r\n                  "min-width": "25%",\r\n                  "width": "25%"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              "children": [],\r\n              "componentName": "Content",\r\n              "exportName": "Content",\r\n              "id": "XXwecfjjZVitdrt63V",\r\n              "name": "content",\r\n              "props": {\r\n                "name": "Content内容",\r\n                "style": {\r\n                  "text-align": "center",\r\n                  "min-height": "120px",\r\n                  "line-height": "120px",\r\n                  "color": "rgb(255, 255, 255)",\r\n                  "background-color": "rgb(9, 88, 217)",\r\n                  "flex": "auto"\r\n                }\r\n              }\r\n            }\r\n          ]\r\n\r\n        },\r\n        {\r\n          "children": [],\r\n          "componentName": "Footer",\r\n          "exportName": "Footer",\r\n          "id": "XXfdEXujjZV5kou1t863V",\r\n          "name": "footer",\r\n          "props": {\r\n            "name": "Footer内容",\r\n            "style": {\r\n              "text-align": "center",\r\n              "color": "rgb(255, 255, 255)",\r\n              "height": "64px",\r\n              "padding-inline": "48px",\r\n              "line-height": "64px",\r\n              "background-color": "rgb(64, 150, 255)"\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\n'})})})]}),"\n",(0,t.jsxs)(d.Z,{isMobile:"false",demoId:"_guide_openapi_sdk_front_1",children:[(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import {useEffect, useMemo, useState} from \"react\";\r\nimport {Skeleton} from \"antd\";\r\nimport loader from \"../../../utils/loader\";\r\nimport ExampleCode from \"./ExampleCode\";\r\n\r\nconst components = {\r\n  ComponentOne: ExampleCode.ComponentOne,\r\n  Header: ExampleCode.Header,\r\n  Sider: ExampleCode.Sider,\r\n  Content: ExampleCode.Content,\r\n  Footer: ExampleCode.Footer,\r\n  Container: ExampleCode.Container\r\n}\r\n\r\nconst sdkExampleContainerId = 'OpenReactRenderSdkExample'\r\nexport default function App() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const initRender = () => {\r\n    const {ReactDOM, React} = window as any\r\n    const { RenderView } = window['OpenReactRenderSdk'];\r\n\r\n    ReactDOM.createRoot(document.getElementById(sdkExampleContainerId)!).render(React.createElement(RenderView, {\r\n      schema: ExampleCode.schema,\r\n      components: components,\r\n      renderKey: '1.0'\r\n    }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        await loader.LibOpenReactRenderSdk()\r\n      }catch (e) {\r\n        setError(e)\r\n      }\r\n      setLoading(false)\r\n    })()\r\n  }, []);\r\n\r\n  const mounted = useMemo(() => {\r\n    return !loading && !error\r\n  }, [loading, error])\r\n\r\n  useEffect(() => {\r\n    if (mounted) {\r\n      setTimeout(() => {\r\n        initRender()\r\n      })\r\n    }\r\n  }, [mounted]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={'loadingFormContainer'}>\r\n        <Skeleton active={true} rootClassName={\"skeletonRoot\"}/>\r\n      </div>\r\n    )\r\n  }\r\n  if (error) {\r\n    return <ExampleCode.ErrorView />\r\n  }\r\n  const { RenderView } = window['OpenReactRenderSdk'];\r\n\r\n  if (!RenderView) {\r\n    return <ExampleCode.ErrorView />\r\n  }\r\n  return (\r\n    <div id={sdkExampleContainerId} className={'exampleItem'} style={{width: '100%'}} />\r\n  )\r\n}"})})}),(0,t.jsx)(a.default,{})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(c,e)})):c(e)}let s=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["guide%2Fopenapi%2Fsdk-front.mdx"]={toc:[{id:"概述",text:"概述",depth:2},{id:"使用",text:"使用",depth:2},{id:"安裝",text:"安裝",depth:3},{id:"效果",text:"效果",depth:3}],title:"渲染器接入—前端",frontmatter:{}}},342:function(e,n,r){r.r(n),r.d(n,{default:function(){return a}});var t=r(2676),o=r(1767);let a={schema:{version:"1.0.2",packagesMap:[],componentsMap:[],componentsTree:[{componentName:"Component",fileName:"example",props:{},children:[{children:[],componentName:"Header",exportName:"Header",id:"XXfdEXujjZV5kou1t863V",name:"header",props:{name:"Header内容",style:{"text-align":"center",color:"rgb(255, 255, 255)",height:"64px","padding-inline":"48px","line-height":"64px","background-color":"rgb(64, 150, 255)"}}},{componentName:"Container",exportName:"Container",id:"XXfdEXujfdfdgu1t863V",name:"container",props:{style:{display:"flex","flex-direction":"row"}},children:[{children:[],componentName:"Sider",exportName:"Sider",id:"XXwecfjjZV5kou1t863V",name:"sider",props:{name:"Sider内容",style:{"text-align":"center","line-height":"120px",color:"rgb(255, 255, 255)","background-color":"rgb(22, 119, 255)",flex:"0 0 25%","max-width":"25%","min-width":"25%",width:"25%"}}},{children:[],componentName:"Content",exportName:"Content",id:"XXwecfjjZVitdrt63V",name:"content",props:{name:"Content内容",style:{"text-align":"center","min-height":"120px","line-height":"120px",color:"rgb(255, 255, 255)","background-color":"rgb(9, 88, 217)",flex:"auto"}}}]},{children:[],componentName:"Footer",exportName:"Footer",id:"XXfdEXujjZV5kou1t863V",name:"footer",props:{name:"Footer内容",style:{"text-align":"center",color:"rgb(255, 255, 255)",height:"64px","padding-inline":"48px","line-height":"64px","background-color":"rgb(64, 150, 255)"}}}]}]},ErrorView:()=>(0,t.jsx)("div",{className:"loadingFormContainer",children:(0,t.jsx)(o.ZP,{status:"error",title:"渲染异常",subTitle:""})}),ComponentOne:e=>(0,t.jsx)("div",{children:"这是组件1cccccccccccccccccccccccc"}),Container:e=>(0,t.jsx)("div",{style:e.style||{},children:e.children}),Header:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Header"]}),Sider:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Sider"]}),Content:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Content"]}),Footer:e=>(0,t.jsxs)("div",{style:e.style||{},children:["这是",e.name||"Footer"]})}},1442:function(e,n,r){r.r(n),r.d(n,{default:function(){return s}});var t=r(2676),o=r(5271),a=r(2996),d=r(5337),i=r(342);let c={ComponentOne:i.default.ComponentOne,Header:i.default.Header,Sider:i.default.Sider,Content:i.default.Content,Footer:i.default.Footer,Container:i.default.Container},l="OpenReactRenderSdkExample";function s(){let[e,n]=(0,o.useState)(!0),[r,s]=(0,o.useState)(null),m=()=>{let{ReactDOM:e,React:n}=window,{RenderView:r}=window.OpenReactRenderSdk;e.createRoot(document.getElementById(l)).render(n.createElement(r,{schema:i.default.schema,components:c,renderKey:"1.0"}))};(0,o.useEffect)(()=>{(async()=>{try{await d.default.LibOpenReactRenderSdk()}catch(e){s(e)}n(!1)})()},[]);let p=(0,o.useMemo)(()=>!e&&!r,[e,r]);if((0,o.useEffect)(()=>{p&&setTimeout(()=>{m()})},[p]),e)return(0,t.jsx)("div",{className:"loadingFormContainer",children:(0,t.jsx)(a.Z,{active:!0,rootClassName:"skeletonRoot"})});if(r)return(0,t.jsx)(i.default.ErrorView,{});let{RenderView:h}=window.OpenReactRenderSdk;return h?(0,t.jsx)("div",{id:l,className:"exampleItem",style:{width:"100%"}}):(0,t.jsx)(i.default.ErrorView,{})}},1077:function(e,n,r){r.r(n),r.d(n,{default:function(){return a}});var t=r(2676),o=r(1474);let a=()=>(0,t.jsx)(o.PackageManagerTabs,{command:"install @lowcode-set-up-platform/open-react-render-sdk -S"})},5337:function(e,n,r){r.r(n),r.d(n,{default:function(){return a}});let t={};function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{src:n="https://cdn.jsdelivr.net/npm/typescript/lib/typescript.js",globalKey:r="ts"}=e;return window[r]?Promise.resolve():t[n]?t[n]:(t[n]=new Promise((e,o)=>{let a=document.createElement("script");a.setAttribute("data-src",n),a.src=n,a.async=!0,a.onload=()=>{window[r]?(console.log(`${r} loaded and available as window.${r}`),e()):(o(Error(`Failed to load ${r}. Ensure the global variable ${r} is set by the script.`)),delete t[n])},a.onerror=e=>{o(Error(`Failed to load ${r} from ${n}: ${e}`)),delete t[n]},document.body.appendChild(a)}),t[n])}let a={LibSetterRender:async function e(){return await o({src:"/setter-render/index.umd.js",globalKey:"SetterRender"}),window.SetterRender},LibOpenReactRenderSdk:async function e(){return await o({src:"/open-react-render-sdk/index.umd.js",globalKey:"OpenReactRenderSdk"}),window.OpenReactRenderSdk}}}}]);